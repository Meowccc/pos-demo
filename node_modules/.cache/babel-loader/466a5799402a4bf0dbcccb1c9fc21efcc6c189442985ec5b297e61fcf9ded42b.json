{"ast":null,"code":"var _jsxFileName = \"/Users/meow/work/side-project/pos-demo/src/components/StaffDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StaffContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  background: white;\n  border-radius: 15px;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.2);\n  overflow: hidden;\n`;\n_c = StaffContainer;\nconst Header = styled.div`\n  background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\n  color: white;\n  padding: 20px;\n  text-align: center;\n`;\n_c2 = Header;\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: 1.8rem;\n`;\n_c3 = HeaderTitle;\nconst Content = styled.div`\n  padding: 20px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 20px;\n  min-height: 600px;\n`;\n_c4 = Content;\nconst OrderSection = styled.div`\n  background: #f8f9fa;\n  border-radius: 10px;\n  padding: 20px;\n`;\n_c5 = OrderSection;\nconst SectionTitle = styled.h3`\n  color: #2c3e50;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n  border-bottom: 2px solid #3498db;\n  padding-bottom: 10px;\n`;\n_c6 = SectionTitle;\nconst OrderList = styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n`;\n_c7 = OrderList;\nconst OrderItem = styled.div`\n  background: white;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 15px;\n  margin-bottom: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #3498db;\n    box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);\n  }\n\n  ${props => props.active && `\n    border-color: #3498db;\n    background: #ebf3fd;\n  `}\n`;\n_c8 = OrderItem;\nconst OrderNumber = styled.div`\n  font-weight: bold;\n  color: #2c3e50;\n  font-size: 1.1rem;\n`;\n_c9 = OrderNumber;\nconst CustomerName = styled.div`\n  color: #7f8c8d;\n  margin-top: 5px;\n`;\n_c0 = CustomerName;\nconst OrderTotal = styled.div`\n  color: #e74c3c;\n  font-weight: bold;\n  margin-top: 5px;\n`;\n_c1 = OrderTotal;\nconst ActionSection = styled.div`\n  background: #f8f9fa;\n  border-radius: 10px;\n  padding: 20px;\n`;\n_c10 = ActionSection;\nconst ProductGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  margin-bottom: 20px;\n`;\n_c11 = ProductGrid;\nconst ProductButton = styled.button`\n  background: #3498db;\n  color: white;\n  border: none;\n  padding: 15px 10px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #2980b9;\n    transform: translateY(-2px);\n  }\n`;\n_c12 = ProductButton;\nconst ActionButtons = styled.div`\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n`;\n_c13 = ActionButtons;\nconst ActionButton = styled.button`\n  flex: 1;\n  padding: 15px;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &.primary {\n    background: #27ae60;\n    color: white;\n  }\n\n  &.secondary {\n    background: #e74c3c;\n    color: white;\n  }\n\n  &.warning {\n    background: #f39c12;\n    color: white;\n  }\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n  }\n`;\n_c14 = ActionButton;\nconst CurrentOrder = styled.div`\n  background: white;\n  border: 2px solid #3498db;\n  border-radius: 10px;\n  padding: 20px;\n  margin-top: 20px;\n`;\n_c15 = CurrentOrder;\nconst OrderItems = styled.div`\n  margin-top: 15px;\n`;\n_c16 = OrderItems;\nconst OrderItemRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 1px solid #eee;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n_c17 = OrderItemRow;\nconst ItemName = styled.span`\n  font-weight: 500;\n`;\n_c18 = ItemName;\nconst ItemPrice = styled.span`\n  color: #e74c3c;\n  font-weight: bold;\n`;\n_c19 = ItemPrice;\nconst TotalAmount = styled.div`\n  text-align: right;\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: #2c3e50;\n  margin-top: 15px;\n  padding-top: 15px;\n  border-top: 2px solid #3498db;\n`;\n_c20 = TotalAmount;\nconst ConnectionStatus = styled.div`\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  background: ${props => props.connected ? '#27ae60' : '#e74c3c'};\n  color: white;\n  padding: 8px 15px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: bold;\n  z-index: 1000;\n`;\n_c21 = ConnectionStatus;\nconst DebugInfo = styled.div`\n  position: fixed;\n  bottom: 20px;\n  left: 20px;\n  background: rgba(0,0,0,0.8);\n  color: white;\n  padding: 10px;\n  border-radius: 5px;\n  font-size: 12px;\n  z-index: 1000;\n`;\n_c22 = DebugInfo;\nfunction StaffDisplay() {\n  _s();\n  const [orders, setOrders] = useState([{\n    id: 1,\n    number: 'ORD-001',\n    customerName: '張小明',\n    total: 150,\n    items: ['美式咖啡', '起司蛋糕']\n  }, {\n    id: 2,\n    number: 'ORD-002',\n    customerName: '李小華',\n    total: 280,\n    items: ['拿鐵咖啡', '提拉米蘇', '鬆餅']\n  }, {\n    id: 3,\n    number: 'ORD-003',\n    customerName: '王大明',\n    total: 95,\n    items: ['卡布奇諾']\n  }]);\n  const [currentOrder, setCurrentOrder] = useState(null);\n  const [currentOrderItems, setCurrentOrderItems] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n  const [debugInfo, setDebugInfo] = useState('初始化中...');\n  const [broadcastChannel, setBroadcastChannel] = useState(null);\n  const products = [{\n    name: '美式咖啡',\n    price: 60\n  }, {\n    name: '拿鐵咖啡',\n    price: 80\n  }, {\n    name: '卡布奇諾',\n    price: 75\n  }, {\n    name: '起司蛋糕',\n    price: 90\n  }, {\n    name: '提拉米蘇',\n    price: 120\n  }, {\n    name: '鬆餅',\n    price: 80\n  }, {\n    name: '布朗尼',\n    price: 70\n  }, {\n    name: '檸檬塔',\n    price: 85\n  }, {\n    name: '熱茶',\n    price: 50\n  }];\n  useEffect(() => {\n    const initializeCommunication = () => {\n      if ('BroadcastChannel' in window) {\n        try {\n          const channel = new BroadcastChannel('pos_channel');\n          setBroadcastChannel(channel);\n          setIsConnected(true);\n          setDebugInfo('BroadcastChannel 已連接');\n        } catch (error) {\n          console.error('BroadcastChannel 初始化失敗:', error);\n          setDebugInfo('BroadcastChannel 失敗，使用 localStorage');\n          setIsConnected(true);\n        }\n      } else {\n        console.warn('BroadcastChannel 不支援，使用 localStorage');\n        setDebugInfo('BroadcastChannel 不支援，使用 localStorage');\n        setIsConnected(true);\n      }\n    };\n    initializeCommunication();\n    return () => {\n      if (broadcastChannel) {\n        broadcastChannel.close();\n      }\n    };\n  }, []);\n  const sendMessage = (type, order) => {\n    const message = {\n      type,\n      order\n    };\n    if (broadcastChannel) {\n      try {\n        broadcastChannel.postMessage(message);\n        setDebugInfo(`已發送 ${type} 訊息`);\n        console.log('已發送 BroadcastChannel 訊息:', message);\n      } catch (error) {\n        console.error('BroadcastChannel 發送失敗:', error);\n        setDebugInfo('BroadcastChannel 發送失敗');\n      }\n    } else {\n      // 備用方案：使用 localStorage\n      try {\n        localStorage.setItem('pos_currentOrder', JSON.stringify(order));\n        setDebugInfo(`已儲存到 localStorage: ${order ? order.number : '清除'}`);\n        console.log('已儲存到 localStorage:', order);\n      } catch (error) {\n        console.error('localStorage 儲存失敗:', error);\n        setDebugInfo('localStorage 儲存失敗');\n      }\n    }\n  };\n  const addToOrder = product => {\n    const newOrderItems = [...currentOrderItems, product];\n    setCurrentOrderItems(newOrderItems);\n\n    // 發送當前正在建立的訂單到客戶顯示器\n    const currentOrderData = {\n      id: 'temp',\n      number: '建立中...',\n      customerName: '準備中',\n      total: newOrderItems.reduce((sum, item) => sum + item.price, 0),\n      items: newOrderItems.map(item => item.name),\n      isBuilding: true // 標記為正在建立中\n    };\n    sendMessage('BUILDING_ORDER', currentOrderData);\n  };\n  const createNewOrder = () => {\n    if (currentOrderItems.length === 0) return;\n    const newOrder = {\n      id: orders.length + 1,\n      number: `ORD-${String(orders.length + 1).padStart(3, '0')}`,\n      customerName: `顧客${orders.length + 1}`,\n      total: currentOrderItems.reduce((sum, item) => sum + item.price, 0),\n      items: currentOrderItems.map(item => item.name)\n    };\n    setOrders([...orders, newOrder]);\n    setCurrentOrderItems([]);\n\n    // 發送消息到客戶顯示器\n    sendMessage('NEW_ORDER', newOrder);\n  };\n  const selectOrder = order => {\n    setCurrentOrder(order);\n\n    // 發送消息到客戶顯示器\n    sendMessage('SELECT_ORDER', order);\n  };\n  const clearOrder = () => {\n    setCurrentOrderItems([]);\n\n    // 發送清除訊息到客戶顯示器\n    sendMessage('CLEAR_ORDER', null);\n  };\n  const totalAmount = currentOrderItems.reduce((sum, item) => sum + item.price, 0);\n  return /*#__PURE__*/_jsxDEV(StaffContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ConnectionStatus, {\n      connected: isConnected,\n      children: isConnected ? '已連接' : '未連接'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DebugInfo, {\n      children: debugInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(HeaderTitle, {\n        children: \"\\u71DF\\u696D\\u54E1\\u64CD\\u4F5C\\u4ECB\\u9762\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      children: [/*#__PURE__*/_jsxDEV(OrderSection, {\n        children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n          children: \"\\u8A02\\u55AE\\u5217\\u8868\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OrderList, {\n          children: orders.map(order => /*#__PURE__*/_jsxDEV(OrderItem, {\n            active: (currentOrder === null || currentOrder === void 0 ? void 0 : currentOrder.id) === order.id,\n            onClick: () => selectOrder(order),\n            children: [/*#__PURE__*/_jsxDEV(OrderNumber, {\n              children: order.number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CustomerName, {\n              children: order.customerName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(OrderTotal, {\n              children: [\"NT$ \", order.total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, order.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ActionSection, {\n        children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n          children: \"\\u65B0\\u589E\\u8A02\\u55AE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductGrid, {\n          children: products.map(product => /*#__PURE__*/_jsxDEV(ProductButton, {\n            onClick: () => addToOrder(product),\n            children: [product.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 31\n            }, this), \"NT$ \", product.price]\n          }, product.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ActionButtons, {\n          children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n            className: \"primary\",\n            onClick: createNewOrder,\n            children: \"\\u5EFA\\u7ACB\\u8A02\\u55AE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n            className: \"warning\",\n            onClick: clearOrder,\n            children: \"\\u6E05\\u9664\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n            className: \"secondary\",\n            onClick: () => sendMessage('END_SESSION', null),\n            children: \"\\u7D50\\u675F\\u71DF\\u696D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), currentOrderItems.length > 0 && /*#__PURE__*/_jsxDEV(CurrentOrder, {\n          children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n            children: \"\\u7576\\u524D\\u8A02\\u55AE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OrderItems, {\n            children: currentOrderItems.map((item, index) => /*#__PURE__*/_jsxDEV(OrderItemRow, {\n              children: [/*#__PURE__*/_jsxDEV(ItemName, {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ItemPrice, {\n                children: [\"NT$ \", item.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TotalAmount, {\n            children: [\"\\u7E3D\\u8A08: NT$ \", totalAmount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n}\n_s(StaffDisplay, \"85t5Clgvb9tPb8qNZ/1A6k7urKE=\");\n_c23 = StaffDisplay;\nexport default StaffDisplay;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23;\n$RefreshReg$(_c, \"StaffContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"HeaderTitle\");\n$RefreshReg$(_c4, \"Content\");\n$RefreshReg$(_c5, \"OrderSection\");\n$RefreshReg$(_c6, \"SectionTitle\");\n$RefreshReg$(_c7, \"OrderList\");\n$RefreshReg$(_c8, \"OrderItem\");\n$RefreshReg$(_c9, \"OrderNumber\");\n$RefreshReg$(_c0, \"CustomerName\");\n$RefreshReg$(_c1, \"OrderTotal\");\n$RefreshReg$(_c10, \"ActionSection\");\n$RefreshReg$(_c11, \"ProductGrid\");\n$RefreshReg$(_c12, \"ProductButton\");\n$RefreshReg$(_c13, \"ActionButtons\");\n$RefreshReg$(_c14, \"ActionButton\");\n$RefreshReg$(_c15, \"CurrentOrder\");\n$RefreshReg$(_c16, \"OrderItems\");\n$RefreshReg$(_c17, \"OrderItemRow\");\n$RefreshReg$(_c18, \"ItemName\");\n$RefreshReg$(_c19, \"ItemPrice\");\n$RefreshReg$(_c20, \"TotalAmount\");\n$RefreshReg$(_c21, \"ConnectionStatus\");\n$RefreshReg$(_c22, \"DebugInfo\");\n$RefreshReg$(_c23, \"StaffDisplay\");","map":{"version":3,"names":["React","useState","useEffect","styled","jsxDEV","_jsxDEV","StaffContainer","div","_c","Header","_c2","HeaderTitle","h2","_c3","Content","_c4","OrderSection","_c5","SectionTitle","h3","_c6","OrderList","_c7","OrderItem","props","active","_c8","OrderNumber","_c9","CustomerName","_c0","OrderTotal","_c1","ActionSection","_c10","ProductGrid","_c11","ProductButton","button","_c12","ActionButtons","_c13","ActionButton","_c14","CurrentOrder","_c15","OrderItems","_c16","OrderItemRow","_c17","ItemName","span","_c18","ItemPrice","_c19","TotalAmount","_c20","ConnectionStatus","connected","_c21","DebugInfo","_c22","StaffDisplay","_s","orders","setOrders","id","number","customerName","total","items","currentOrder","setCurrentOrder","currentOrderItems","setCurrentOrderItems","isConnected","setIsConnected","debugInfo","setDebugInfo","broadcastChannel","setBroadcastChannel","products","name","price","initializeCommunication","window","channel","BroadcastChannel","error","console","warn","close","sendMessage","type","order","message","postMessage","log","localStorage","setItem","JSON","stringify","addToOrder","product","newOrderItems","currentOrderData","reduce","sum","item","map","isBuilding","createNewOrder","length","newOrder","String","padStart","selectOrder","clearOrder","totalAmount","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","index","_c23","$RefreshReg$"],"sources":["/Users/meow/work/side-project/pos-demo/src/components/StaffDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst StaffContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  background: white;\n  border-radius: 15px;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.2);\n  overflow: hidden;\n`;\n\nconst Header = styled.div`\n  background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);\n  color: white;\n  padding: 20px;\n  text-align: center;\n`;\n\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: 1.8rem;\n`;\n\nconst Content = styled.div`\n  padding: 20px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 20px;\n  min-height: 600px;\n`;\n\nconst OrderSection = styled.div`\n  background: #f8f9fa;\n  border-radius: 10px;\n  padding: 20px;\n`;\n\nconst SectionTitle = styled.h3`\n  color: #2c3e50;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n  border-bottom: 2px solid #3498db;\n  padding-bottom: 10px;\n`;\n\nconst OrderList = styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n`;\n\nconst OrderItem = styled.div`\n  background: white;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 15px;\n  margin-bottom: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #3498db;\n    box-shadow: 0 2px 8px rgba(52, 152, 219, 0.2);\n  }\n\n  ${props => props.active && `\n    border-color: #3498db;\n    background: #ebf3fd;\n  `}\n`;\n\nconst OrderNumber = styled.div`\n  font-weight: bold;\n  color: #2c3e50;\n  font-size: 1.1rem;\n`;\n\nconst CustomerName = styled.div`\n  color: #7f8c8d;\n  margin-top: 5px;\n`;\n\nconst OrderTotal = styled.div`\n  color: #e74c3c;\n  font-weight: bold;\n  margin-top: 5px;\n`;\n\nconst ActionSection = styled.div`\n  background: #f8f9fa;\n  border-radius: 10px;\n  padding: 20px;\n`;\n\nconst ProductGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  margin-bottom: 20px;\n`;\n\nconst ProductButton = styled.button`\n  background: #3498db;\n  color: white;\n  border: none;\n  padding: 15px 10px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: #2980b9;\n    transform: translateY(-2px);\n  }\n`;\n\nconst ActionButtons = styled.div`\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n`;\n\nconst ActionButton = styled.button`\n  flex: 1;\n  padding: 15px;\n  border: none;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &.primary {\n    background: #27ae60;\n    color: white;\n  }\n\n  &.secondary {\n    background: #e74c3c;\n    color: white;\n  }\n\n  &.warning {\n    background: #f39c12;\n    color: white;\n  }\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n  }\n`;\n\nconst CurrentOrder = styled.div`\n  background: white;\n  border: 2px solid #3498db;\n  border-radius: 10px;\n  padding: 20px;\n  margin-top: 20px;\n`;\n\nconst OrderItems = styled.div`\n  margin-top: 15px;\n`;\n\nconst OrderItemRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n  border-bottom: 1px solid #eee;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst ItemName = styled.span`\n  font-weight: 500;\n`;\n\nconst ItemPrice = styled.span`\n  color: #e74c3c;\n  font-weight: bold;\n`;\n\nconst TotalAmount = styled.div`\n  text-align: right;\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: #2c3e50;\n  margin-top: 15px;\n  padding-top: 15px;\n  border-top: 2px solid #3498db;\n`;\n\nconst ConnectionStatus = styled.div`\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  background: ${props => props.connected ? '#27ae60' : '#e74c3c'};\n  color: white;\n  padding: 8px 15px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: bold;\n  z-index: 1000;\n`;\n\nconst DebugInfo = styled.div`\n  position: fixed;\n  bottom: 20px;\n  left: 20px;\n  background: rgba(0,0,0,0.8);\n  color: white;\n  padding: 10px;\n  border-radius: 5px;\n  font-size: 12px;\n  z-index: 1000;\n`;\n\nfunction StaffDisplay() {\n  const [orders, setOrders] = useState([\n    { id: 1, number: 'ORD-001', customerName: '張小明', total: 150, items: ['美式咖啡', '起司蛋糕'] },\n    { id: 2, number: 'ORD-002', customerName: '李小華', total: 280, items: ['拿鐵咖啡', '提拉米蘇', '鬆餅'] },\n    { id: 3, number: 'ORD-003', customerName: '王大明', total: 95, items: ['卡布奇諾'] },\n  ]);\n\n  const [currentOrder, setCurrentOrder] = useState(null);\n  const [currentOrderItems, setCurrentOrderItems] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n  const [debugInfo, setDebugInfo] = useState('初始化中...');\n  const [broadcastChannel, setBroadcastChannel] = useState(null);\n\n  const products = [\n    { name: '美式咖啡', price: 60 },\n    { name: '拿鐵咖啡', price: 80 },\n    { name: '卡布奇諾', price: 75 },\n    { name: '起司蛋糕', price: 90 },\n    { name: '提拉米蘇', price: 120 },\n    { name: '鬆餅', price: 80 },\n    { name: '布朗尼', price: 70 },\n    { name: '檸檬塔', price: 85 },\n    { name: '熱茶', price: 50 },\n  ];\n\n  useEffect(() => {\n    const initializeCommunication = () => {\n      if ('BroadcastChannel' in window) {\n        try {\n          const channel = new BroadcastChannel('pos_channel');\n          setBroadcastChannel(channel);\n          setIsConnected(true);\n          setDebugInfo('BroadcastChannel 已連接');\n        } catch (error) {\n          console.error('BroadcastChannel 初始化失敗:', error);\n          setDebugInfo('BroadcastChannel 失敗，使用 localStorage');\n          setIsConnected(true);\n        }\n      } else {\n        console.warn('BroadcastChannel 不支援，使用 localStorage');\n        setDebugInfo('BroadcastChannel 不支援，使用 localStorage');\n        setIsConnected(true);\n      }\n    };\n\n    initializeCommunication();\n\n    return () => {\n      if (broadcastChannel) {\n        broadcastChannel.close();\n      }\n    };\n  }, []);\n\n  const sendMessage = (type, order) => {\n    const message = { type, order };\n    \n    if (broadcastChannel) {\n      try {\n        broadcastChannel.postMessage(message);\n        setDebugInfo(`已發送 ${type} 訊息`);\n        console.log('已發送 BroadcastChannel 訊息:', message);\n      } catch (error) {\n        console.error('BroadcastChannel 發送失敗:', error);\n        setDebugInfo('BroadcastChannel 發送失敗');\n      }\n    } else {\n      // 備用方案：使用 localStorage\n      try {\n        localStorage.setItem('pos_currentOrder', JSON.stringify(order));\n        setDebugInfo(`已儲存到 localStorage: ${order ? order.number : '清除'}`);\n        console.log('已儲存到 localStorage:', order);\n      } catch (error) {\n        console.error('localStorage 儲存失敗:', error);\n        setDebugInfo('localStorage 儲存失敗');\n      }\n    }\n  };\n\n  const addToOrder = (product) => {\n    const newOrderItems = [...currentOrderItems, product];\n    setCurrentOrderItems(newOrderItems);\n    \n    // 發送當前正在建立的訂單到客戶顯示器\n    const currentOrderData = {\n      id: 'temp',\n      number: '建立中...',\n      customerName: '準備中',\n      total: newOrderItems.reduce((sum, item) => sum + item.price, 0),\n      items: newOrderItems.map(item => item.name),\n      isBuilding: true // 標記為正在建立中\n    };\n    \n    sendMessage('BUILDING_ORDER', currentOrderData);\n  };\n\n  const createNewOrder = () => {\n    if (currentOrderItems.length === 0) return;\n    \n    const newOrder = {\n      id: orders.length + 1,\n      number: `ORD-${String(orders.length + 1).padStart(3, '0')}`,\n      customerName: `顧客${orders.length + 1}`,\n      total: currentOrderItems.reduce((sum, item) => sum + item.price, 0),\n      items: currentOrderItems.map(item => item.name)\n    };\n\n    setOrders([...orders, newOrder]);\n    setCurrentOrderItems([]);\n    \n    // 發送消息到客戶顯示器\n    sendMessage('NEW_ORDER', newOrder);\n  };\n\n  const selectOrder = (order) => {\n    setCurrentOrder(order);\n    \n    // 發送消息到客戶顯示器\n    sendMessage('SELECT_ORDER', order);\n  };\n\n  const clearOrder = () => {\n    setCurrentOrderItems([]);\n    \n    // 發送清除訊息到客戶顯示器\n    sendMessage('CLEAR_ORDER', null);\n  };\n\n  const totalAmount = currentOrderItems.reduce((sum, item) => sum + item.price, 0);\n\n  return (\n    <StaffContainer>\n      <ConnectionStatus connected={isConnected}>\n        {isConnected ? '已連接' : '未連接'}\n      </ConnectionStatus>\n\n      <DebugInfo>{debugInfo}</DebugInfo>\n\n      <Header>\n        <HeaderTitle>營業員操作介面</HeaderTitle>\n      </Header>\n      \n      <Content>\n        <OrderSection>\n          <SectionTitle>訂單列表</SectionTitle>\n          <OrderList>\n            {orders.map(order => (\n              <OrderItem \n                key={order.id} \n                active={currentOrder?.id === order.id}\n                onClick={() => selectOrder(order)}\n              >\n                <OrderNumber>{order.number}</OrderNumber>\n                <CustomerName>{order.customerName}</CustomerName>\n                <OrderTotal>NT$ {order.total}</OrderTotal>\n              </OrderItem>\n            ))}\n          </OrderList>\n        </OrderSection>\n\n        <ActionSection>\n          <SectionTitle>新增訂單</SectionTitle>\n          <ProductGrid>\n            {products.map(product => (\n              <ProductButton \n                key={product.name}\n                onClick={() => addToOrder(product)}\n              >\n                {product.name}<br/>\n                NT$ {product.price}\n              </ProductButton>\n            ))}\n          </ProductGrid>\n\n          <ActionButtons>\n            <ActionButton className=\"primary\" onClick={createNewOrder}>\n              建立訂單\n            </ActionButton>\n            <ActionButton className=\"warning\" onClick={clearOrder}>\n              清除\n            </ActionButton>\n            <ActionButton className=\"secondary\" onClick={() => sendMessage('END_SESSION', null)}>\n              結束營業\n            </ActionButton>\n          </ActionButtons>\n\n          {currentOrderItems.length > 0 && (\n            <CurrentOrder>\n              <SectionTitle>當前訂單</SectionTitle>\n              <OrderItems>\n                {currentOrderItems.map((item, index) => (\n                  <OrderItemRow key={index}>\n                    <ItemName>{item.name}</ItemName>\n                    <ItemPrice>NT$ {item.price}</ItemPrice>\n                  </OrderItemRow>\n                ))}\n              </OrderItems>\n              <TotalAmount>總計: NT$ {totalAmount}</TotalAmount>\n            </CurrentOrder>\n          )}\n        </ActionSection>\n      </Content>\n    </StaffContainer>\n  );\n}\n\nexport default StaffDisplay; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,cAAc,GAAGH,MAAM,CAACI,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAPIF,cAAc;AASpB,MAAMG,MAAM,GAAGN,MAAM,CAACI,GAAG;AACzB;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GALID,MAAM;AAOZ,MAAME,WAAW,GAAGR,MAAM,CAACS,EAAE;AAC7B;AACA;AACA,CAAC;AAACC,GAAA,GAHIF,WAAW;AAKjB,MAAMG,OAAO,GAAGX,MAAM,CAACI,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACQ,GAAA,GANID,OAAO;AAQb,MAAME,YAAY,GAAGb,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA,CAAC;AAACU,GAAA,GAJID,YAAY;AAMlB,MAAME,YAAY,GAAGf,MAAM,CAACgB,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,YAAY;AAQlB,MAAMG,SAAS,GAAGlB,MAAM,CAACI,GAAG;AAC5B;AACA;AACA,CAAC;AAACe,GAAA,GAHID,SAAS;AAKf,MAAME,SAAS,GAAGpB,MAAM,CAACI,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIiB,KAAK,IAAIA,KAAK,CAACC,MAAM,IAAI;AAC7B;AACA;AACA,GAAG;AACH,CAAC;AAACC,GAAA,GAlBIH,SAAS;AAoBf,MAAMI,WAAW,GAAGxB,MAAM,CAACI,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAACqB,GAAA,GAJID,WAAW;AAMjB,MAAME,YAAY,GAAG1B,MAAM,CAACI,GAAG;AAC/B;AACA;AACA,CAAC;AAACuB,GAAA,GAHID,YAAY;AAKlB,MAAME,UAAU,GAAG5B,MAAM,CAACI,GAAG;AAC7B;AACA;AACA;AACA,CAAC;AAACyB,GAAA,GAJID,UAAU;AAMhB,MAAME,aAAa,GAAG9B,MAAM,CAACI,GAAG;AAChC;AACA;AACA;AACA,CAAC;AAAC2B,IAAA,GAJID,aAAa;AAMnB,MAAME,WAAW,GAAGhC,MAAM,CAACI,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAAC6B,IAAA,GALID,WAAW;AAOjB,MAAME,aAAa,GAAGlC,MAAM,CAACmC,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAdIF,aAAa;AAgBnB,MAAMG,aAAa,GAAGrC,MAAM,CAACI,GAAG;AAChC;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GAJID,aAAa;AAMnB,MAAME,YAAY,GAAGvC,MAAM,CAACmC,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,IAAA,GA7BID,YAAY;AA+BlB,MAAME,YAAY,GAAGzC,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GANID,YAAY;AAQlB,MAAME,UAAU,GAAG3C,MAAM,CAACI,GAAG;AAC7B;AACA,CAAC;AAACwC,IAAA,GAFID,UAAU;AAIhB,MAAME,YAAY,GAAG7C,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC0C,IAAA,GAVID,YAAY;AAYlB,MAAME,QAAQ,GAAG/C,MAAM,CAACgD,IAAI;AAC5B;AACA,CAAC;AAACC,IAAA,GAFIF,QAAQ;AAId,MAAMG,SAAS,GAAGlD,MAAM,CAACgD,IAAI;AAC7B;AACA;AACA,CAAC;AAACG,IAAA,GAHID,SAAS;AAKf,MAAME,WAAW,GAAGpD,MAAM,CAACI,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiD,IAAA,GARID,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}